<pre-loader ng-hide="author"></pre-loader>
<!-- Custom CSS-->
<link rel="stylesheet" type="text/css" href="/assets/css/style.css"/>
<link rel="stylesheet" href="/vendor/google-code-prettify/bin/prettify.min.css"/>
<link rel="stylesheet" type="text/css" href="/assets/css/themes/tranquil-heart.min.css"/>
<script src="/vendor/google-code-prettify/bin/prettify.min.js"></script>
<link rel="stylesheet" type="text/css" href="/assets/css/content.css"/>
<div class="page animated fadeIn mainPage" ng-cloak ng-show="author" id="mainPage">
    <nav-bar></nav-bar>
    <div class="hero-banner" style="background-image: linear-gradient(rgba(29,33,41,0.88),rgba(29,33,41,0.88)),url('/assets/img/coverImg/{{ blog.coverImg }}')">
        <div class="topic">
            <img ng-src="/assets/img/userImg/{{ author.image }}" class="author-pic sm-hide"/>
            <p>
                <span class="author-name">
                    {{ author.name }}
                </span>
            </p>
            <h3 ng-bind-html="trustAsHtml(blog.title)"></h3>
        </div>
    </div>
    <section class="container" role="blog content">
        <main class="main z-depth border animated fadeInUp" style="animation-delay: 0.5s;animation-duration: .4s">
            <a ng-if="isAuthor" class="btn" ng-href="/blogs/edit/{{ blog._id }}" target="_blank" style=" line-height: 16px;">
                Edit Blog
            </a>
        </main>
        <!-- End of Main -->
        <!-- sidebar starts -->
        <aside class="sidebar sm-hide" side-bar>
            <tag-widget></tag-widget>
            <link-widget></link-widget>
            <div class="sm-hide">
                <like-widget blog-id="{{ blog._id }}"></like-widget>
                <comments-widget></comments-widget>
                <ad-widget></ad-widget>
                <quiz-widget></quiz-widget>
            </div>
        </aside>
    </section>
    <section class="posts-card border">
        <div class="preloader-box" ng-hide="postsLoaded">
            <div class="preloader"></div>
        </div>
        <div class="card-details border" ng-repeat="post in posts | orderBy : 'date'" ng-show="postsLoaded">
            <div class="img-container">
                <img ng-src="/assets/img/coverImg/{{ post.coverImg }} "/>
                <div class="overlay">
                    <div class="caption">
                        <a ng-href="/blogs/{{ post._id }}" class="btn" target="_blank">
                            View
                        </a>
                    </div>
                </div>
            </div>
            <p>
                {{ post.title }}
            </p>
            <span class="post-date">
                {{ post.date | date }}
            </span>
        </div>
        <!-- <input autofocus> -->
    </section>
    <footer-bar></footer-bar>
    <div class="modal" tabindex="1" id="commentModal">
        <span class="closeModal icon-cross"></span>
        <!-- <h2>Fb Comments Coming Soon ..</h2> -->
        <!--     <div id="fb-root"></div>
            <script>
            (function(d, s, id) {
                console.log(d, s, id);
                var js, fjs = d.getElementsByTagName(s)[0];
                if (d.getElementById(id)) return;
                js = d.createElement(s);
                js.id = id;
                js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.8&appId=1149863308401381";
                fjs.parentNode.insertBefore(js, fjs);
            }(document, 'script', 'facebook-jssdk'));
            </script>
            <div class="fb-comments" data-href="http://localhost:8080/#/blogs/{{ blog._id }}" data-order-by="reverse_time" data-width="800" data-numposts="5"></div> -->
    </div>
    <div class="modal" tabindex="1" id="quizModal">
        <span class="closeModal icon-cross"></span>
        <h2>
            Quiz Coming Soon ..
        </h2>
    </div>
    <div class="modal" tabindex="1" id="adModal">
        <span class="closeModal icon-cross"></span>
        <h2>
            Ads Not Coming Soon ..
        </h2>
    </div>
</div>
