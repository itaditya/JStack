{"version":3,"sources":["angular-permission.js"],"names":["window","angular","undefined","$q","$delegate","any","promises","deferred","defer","counter","results","isArray","forEach","promise","key","when","then","value","resolve","reason","reject","PermTransitionEvents","this","broadcastPermissionStartEvent","Error","broadcastPermissionAcceptedEvent","broadcastPermissionDeniedEvent","PermPermission","PermTransitionProperties","Permission","permissionName","validationFunction","validateConstructor","wrapInPromise","result","isString","TypeError","isFunction","prototype","validatePermission","validationResult","call","PermRole","PermPermissionStore","Role","roleName","validateRole","map","hasPermissionDefinition","permission","getPermissionDefinition","all","definePermission","permissionStore","defineManyPermissions","permissionNames","removePermissionDefinition","isDefined","getStore","clearStore","PermRoleStore","defineRole","roleStore","defineManyRoles","roleMap","isObject","removeRoleDefinition","hasRoleDefinition","getRoleDefinition","PermissionDirective","$log","$injector","PermPermissionMap","PermPermissionStrategies","restrict","bindToController","sref","only","except","onAuthorized","onUnauthorized","controllerAs","controller","$scope","$element","isSrefStateDefined","has","onAuthorizedAccess","showElement","onUnauthorizedAccess","hideElement","$watchGroup","PermStateAuthorization","get","authorizeByStateName","PermAuthorization","permissionMap","authorizeByPermissionMap","e","error","message","authorizePermissionMap","resolveExceptPrivilegeMap","exceptPromises","resolvePropertyValidity","rejectedPermissions","resolveOnlyPermissionMap","length","onlyPromises","resolvedPermissions","rejectedPermission","PermissionMap","normalizeMapProperty","redirectTo","resolveFunctionRedirect","redirectFunction","rejectedPermissionName","redirectState","state","resolveObjectRedirect","redirectObject","ReferenceError","property","resolveRedirectState","privilegeName","role","warn","$inject","module","exports","name","decorator","enableElement","removeAttr","disableElement","attr","removeClass","addClass","service","factory","directive"],"mappings":"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","file":"angular-permission.min.js"}